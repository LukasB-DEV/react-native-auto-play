///
/// JTelemetry.hpp
/// This file was generated by nitrogen. DO NOT MODIFY THIS FILE.
/// https://github.com/mrousavy/nitro
/// Copyright Â© 2025 Marc Rousavy @ Margelo
///

#pragma once

#include <fbjni/fbjni.h>
#include "Telemetry.hpp"

#include "JNumericTelemetryItem.hpp"
#include "JStringTelemetryItem.hpp"
#include "JVehicleTelemetryItem.hpp"
#include "NumericTelemetryItem.hpp"
#include "StringTelemetryItem.hpp"
#include "VehicleTelemetryItem.hpp"
#include <optional>
#include <string>

namespace margelo::nitro::at::g4rb4g3::autoplay::hybrid {

  using namespace facebook;

  /**
   * The C++ JNI bridge between the C++ struct "Telemetry" and the the Kotlin data class "Telemetry".
   */
  struct JTelemetry final: public jni::JavaClass<JTelemetry> {
  public:
    static auto constexpr kJavaDescriptor = "Lcom/margelo/nitro/at/g4rb4g3/autoplay/hybrid/Telemetry;";

  public:
    /**
     * Convert this Java/Kotlin-based struct to the C++ struct Telemetry by copying all values to C++.
     */
    [[maybe_unused]]
    [[nodiscard]]
    Telemetry toCpp() const {
      static const auto clazz = javaClassStatic();
      static const auto fieldSpeed = clazz->getField<JNumericTelemetryItem>("speed");
      jni::local_ref<JNumericTelemetryItem> speed = this->getFieldValue(fieldSpeed);
      static const auto fieldFuelLevel = clazz->getField<JNumericTelemetryItem>("fuelLevel");
      jni::local_ref<JNumericTelemetryItem> fuelLevel = this->getFieldValue(fieldFuelLevel);
      static const auto fieldBatteryLevel = clazz->getField<JNumericTelemetryItem>("batteryLevel");
      jni::local_ref<JNumericTelemetryItem> batteryLevel = this->getFieldValue(fieldBatteryLevel);
      static const auto fieldRange = clazz->getField<JNumericTelemetryItem>("range");
      jni::local_ref<JNumericTelemetryItem> range = this->getFieldValue(fieldRange);
      static const auto fieldOdometer = clazz->getField<JNumericTelemetryItem>("odometer");
      jni::local_ref<JNumericTelemetryItem> odometer = this->getFieldValue(fieldOdometer);
      static const auto fieldVehicle = clazz->getField<JVehicleTelemetryItem>("vehicle");
      jni::local_ref<JVehicleTelemetryItem> vehicle = this->getFieldValue(fieldVehicle);
      return Telemetry(
        speed != nullptr ? std::make_optional(speed->toCpp()) : std::nullopt,
        fuelLevel != nullptr ? std::make_optional(fuelLevel->toCpp()) : std::nullopt,
        batteryLevel != nullptr ? std::make_optional(batteryLevel->toCpp()) : std::nullopt,
        range != nullptr ? std::make_optional(range->toCpp()) : std::nullopt,
        odometer != nullptr ? std::make_optional(odometer->toCpp()) : std::nullopt,
        vehicle != nullptr ? std::make_optional(vehicle->toCpp()) : std::nullopt
      );
    }

  public:
    /**
     * Create a Java/Kotlin-based struct by copying all values from the given C++ struct to Java.
     */
    [[maybe_unused]]
    static jni::local_ref<JTelemetry::javaobject> fromCpp(const Telemetry& value) {
      using JSignature = JTelemetry(jni::alias_ref<JNumericTelemetryItem>, jni::alias_ref<JNumericTelemetryItem>, jni::alias_ref<JNumericTelemetryItem>, jni::alias_ref<JNumericTelemetryItem>, jni::alias_ref<JNumericTelemetryItem>, jni::alias_ref<JVehicleTelemetryItem>);
      static const auto clazz = javaClassStatic();
      static const auto create = clazz->getStaticMethod<JSignature>("fromCpp");
      return create(
        clazz,
        value.speed.has_value() ? JNumericTelemetryItem::fromCpp(value.speed.value()) : nullptr,
        value.fuelLevel.has_value() ? JNumericTelemetryItem::fromCpp(value.fuelLevel.value()) : nullptr,
        value.batteryLevel.has_value() ? JNumericTelemetryItem::fromCpp(value.batteryLevel.value()) : nullptr,
        value.range.has_value() ? JNumericTelemetryItem::fromCpp(value.range.value()) : nullptr,
        value.odometer.has_value() ? JNumericTelemetryItem::fromCpp(value.odometer.value()) : nullptr,
        value.vehicle.has_value() ? JVehicleTelemetryItem::fromCpp(value.vehicle.value()) : nullptr
      );
    }
  };

} // namespace margelo::nitro::at::g4rb4g3::autoplay::hybrid
